"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();!function(t,e){var n={},a=function(t,e,a){n[t]={d:e,f:a}},s=function a(s){var r=n[s];if(void 0===r)return e?require(s):(t.__npm__=t.__npm__||{},t.__npm__[s]);if(r.r)return r.r;r.r={};for(var u=[a,r.r],i=2;i<r.d.length;i++)u.push(a(r.d[i]));return r.f.apply(null,u),r.r};a("State",["require","exports"],function(t,e){var n=function(){function t(){_classCallCheck(this,t),this.states=new Set}return _createClass(t,[{key:"set",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var a=0;a<arguments.length;a++){var s=arguments[a];this.states.has(s)||this.states.add(s)}}},{key:"clean",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var a=0;a<arguments.length;a++){var s=arguments[a];this.states.delete(s)}}},{key:"has",value:function(t){return this.states.has(t)}},{key:"once",value:function(t){var e=this.states.has(t);return e&&this.states.delete(t),e}},{key:"unset",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var a=0;a<arguments.length;a++){var s=arguments[a];this.states.delete(s)}}}]),t}();e.State=n}),a("AttributeAnalyzer",["require","exports","State"],function(t,e,n){var a=0,s=(a++).toString(),r=(a++).toString(),u=(a++).toString(),i=(a++).toString(),o=(a++).toString(),l=(a++).toString(),h=(a++).toString(),c=(a++).toString(),f=(a++).toString(),d=(a++).toString(),v=(a++).toString(),y=(a++).toString(),p=(a++).toString(),m=function(){function t(){_classCallCheck(this,t),this.state=new n.State,this.state.set(s)}return _createClass(t,[{key:"consumeName",value:function(){return this.state.has(r)}},{key:"closeName",value:function(){return this.state.has(u)}},{key:"startAttrName",value:function(){return this.state.has(o)}},{key:"consumeAttrName",value:function(){return this.state.has(l)}},{key:"closeAttrName",value:function(){return this.state.has(h)}},{key:"consumeAttrValue",value:function(){return this.state.has(v)}},{key:"closeAttrValue",value:function(){return this.state.has(v)}},{key:"analyze",value:function(t){var e=this.state;return e.clean(u,o,h),void 0===t?this:(e.has(v)&&("\\"===t&&(e.unset(v),e.set(y)),t===this.quote&&(e.unset(v),e.set(p,i))),e.has(y)&&t===this.quote&&(e.unset(y),e.set(v)),e.has(d)&&(e.unset(d),e.set(v)),e.has(c)&&(t.match(/[=\s"']/)?(e.has(f)&&("'"!==t&&'"'!==t||(this.quote=t,e.unset(c,f),e.set(d))),"="===t&&e.set(f)):(e.unset(c,f),e.set(i))),e.has(l)&&(t.match(/[a-z0-9_-]/)||(e.unset(l),e.set(h,c),"="===t&&e.set(f))),e.has(i)&&t.match(/[a-z0-9_-]/)&&(e.unset(i),e.set(o,l)),e.has(s)&&t.match(/[a-z0-9_-]/)&&(e.unset(s),e.set(r)),e.has(r)&&(t.match(/[a-z0-9_-]/)||(e.unset(r),e.set(u),e.set(i))),this)}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=m}),a("TagAnalyzer",["require","exports","State"],function(t,e,n){var a="1",s="2",r="3",u="4",i="5",o="6",l="7",h="8",c="9",f=function(){function t(){_classCallCheck(this,t),this.state=new n.State}return _createClass(t,[{key:"isCreated",value:function(){return this.state.has(u)}},{key:"isOpened",value:function(){return this.state.has(a)}},{key:"isClosed",value:function(){return this.state.has(r)}},{key:"isText",value:function(){return this.state.has(l)}},{key:"isConsumed",value:function(){return this.state.has(c)}},{key:"isTextEnd",value:function(){return this.state.has(h)}},{key:"closeTag",value:function(){this.state.unset(i,a,a),this.state.set(c)}},{key:"analyze",value:function(t,e){var n=this.state;if(n.has(o)&&n.set(l),n.clean(r,h,o,c),"/"===t&&n.has(i)&&(n.set(s),n.unset(i,a)),n.has(u)&&(n.unset(u),n.set(a)),n.has(i)&&(n.set(u),n.unset(i)),"<"===t&&(n.has(a)||n.set(i),n.has(l)&&n.set(h),n.unset(l,o)),">"===t){if(n.set(o),n.once(s))return n.unset(a),n.set(r);n.set(c),n.has(a)&&n.unset(a)}}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=f}),a("Tag",["require","exports","AttributeAnalyzer"],function(t,e,n){var a=function(){function t(e){_classCallCheck(this,t),this.name="",this.children=[],this.attrs=[],this.raw="",this.parent=e}return _createClass(t,[{key:"addAttribute",value:function(){this.attrs.push(["",""])}},{key:"add2AttributeName",value:function(t){var e=this.attrs.length-1;this.attrs[e][0]+=t}},{key:"add2AttributeValue",value:function(t){var e=this.attrs.length-1;this.attrs[e][1]+=t}},{key:"addTag",value:function(t){this.children.push(t)}},{key:"consume",value:function(t){for(var e=new n.default,a=0;a<this.raw.length;a++){var s=this.raw[a],r=e.analyze(s);r.consumeName()&&(this.name+=s),r.startAttrName()&&this.addAttribute(),r.consumeAttrName()&&this.add2AttributeName(s),r.consumeAttrValue()&&this.add2AttributeValue(s)}}},{key:"addText",value:function(t){this.children.push(t)}},{key:"parse",value:function(t){this.raw+=t}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}),a("Text",["require","exports"],function(t,e){var n=function t(e){_classCallCheck(this,t),this.str=e};Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}),a("Parser",["require","exports","TagAnalyzer","Tag","Text"],function(t,e,n,a,s){var r=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"parse",value:function(e,u){for(var i=new n.default,o=new a.default,l=void 0,h=0;h<e.length;h++){var c=e[h],f=h===e.length-1;if(i.analyze(c,f),i.isCreated()){var d=new a.default(o);d.parse(c),o.addTag(d),o=d}else i.isOpened()?o.parse(c):i.isClosed()?(o.consumed||o.consume(i),o.name&&(o=o.parent)):i.isConsumed()?(o.consume(i),o.consumed=!0,r.indexOf(o.name)>-1&&(o.autoClosed=!0,o=o.parent)):i.isText()?(l=l||"",l+=c,f&&o&&o.addText(new s.default(l))):i.isTextEnd()&&(o&&o.addText(new s.default(l)),l=void 0)}return o?u?t.toJSON(o.children):o.children:[]}},{key:"html2json",value:function(t){var e=this.parse(t);return this.toJSON(e)}},{key:"toJSON",value:function(e){for(var n=[],s=0;s<e.length;s++){var r=e[s],u={},i=r instanceof a.default;u.type=i?"tag":"text";var o={};if(r.attrs)for(var l=0;l<r.attrs.length;l++){var h=r.attrs[l];o[h[0]]=h[1]}Object.keys(o).length&&(u.attrs=o),r.str&&(u.value=r.str),r.name&&(u.name=r.name),r.children&&r.children.length&&(u.children=t.toJSON(r.children)),(i||!i&&u.value)&&n.push(u)}return n}}]),t}();e.Parser=u}),a("index",["require","exports","Parser"],function(t,e,n){e.HTMLParser=n.Parser});var r=function(a,r,u,i){var o=i?i.split(","):[];if(o.length)for(var l in n)for(var h=0;h<o.length;h++)0===l.indexOf(o[h])&&s(l);var c,f=s(a);if(!e){var d=t.__npm__=t.__npm__||{};r&&(c=d[r]={})}for(var v in f)e||u?t[v]=f[v]:null,c?c[v]=f[v]:null};r("index","wires-html-parser",!0,"")}("undefined"!=typeof module&&module.exports&&"object"===("undefined"==typeof process?"undefined":_typeof(process))?exports:"undefined"!=typeof window?window:void 0,"undefined"!=typeof module&&module.exports&&"object"===("undefined"==typeof process?"undefined":_typeof(process)));