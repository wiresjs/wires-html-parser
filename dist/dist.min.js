"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}();!function(t,e){var a={},s=function(t,e,s){a[t]={d:e,f:s}},n=function t(s){var n=a[s];if(void 0===n)return e?require(s):(Exports.__npm__=Exports.__npm__||{},Exports.__npm__[s]);if(n.r)return n.r;n.r={};for(var r=[t,n.r],u=2;u<n.d.length;u++)r.push(t(n.d[u]));return n.f.apply(null,r),n.r};s("State",["require","exports"],function(t,e){var a=function(){function t(){_classCallCheck(this,t),this.states=new Set}return _createClass(t,[{key:"set",value:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];for(var s=0;s<arguments.length;s++){var n=arguments[s];this.states.has(n)||this.states.add(n)}}},{key:"clean",value:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];for(var s=0;s<arguments.length;s++){var n=arguments[s];this.states.delete(n)}}},{key:"has",value:function(t){return this.states.has(t)}},{key:"once",value:function(t){var e=this.states.has(t);return e&&this.states.delete(t),e}},{key:"unset",value:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];for(var s=0;s<arguments.length;s++){var n=arguments[s];this.states.delete(n)}}}]),t}();e.State=a}),s("AttributeAnalyzer",["require","exports","State"],function(t,e,a){var s=0,n=(s++).toString(),r=(s++).toString(),u=(s++).toString(),i=(s++).toString(),l=(s++).toString(),o=(s++).toString(),h=(s++).toString(),c=(s++).toString(),f=(s++).toString(),d=(s++).toString(),v=(s++).toString(),y=(s++).toString(),p=(s++).toString(),m=function(){function t(){_classCallCheck(this,t),this.state=new a.State,this.state.set(n)}return _createClass(t,[{key:"consumeName",value:function(){return this.state.has(r)}},{key:"closeName",value:function(){return this.state.has(u)}},{key:"startAttrName",value:function(){return this.state.has(l)}},{key:"consumeAttrName",value:function(){return this.state.has(o)}},{key:"closeAttrName",value:function(){return this.state.has(h)}},{key:"consumeAttrValue",value:function(){return this.state.has(v)}},{key:"closeAttrValue",value:function(){return this.state.has(v)}},{key:"analyze",value:function(t){var e=this.state;return e.clean(u,l,h),void 0===t?this:(e.has(v)&&("\\"===t&&(e.unset(v),e.set(y)),t===this.quote&&(e.unset(v),e.set(p,i))),e.has(y)&&t===this.quote&&(e.unset(y),e.set(v)),e.has(d)&&(e.unset(d),e.set(v)),e.has(c)&&(t.match(/[=\s"']/)?(e.has(f)&&("'"!==t&&'"'!==t||(this.quote=t,e.unset(c,f),e.set(d))),"="===t&&e.set(f)):(e.unset(c,f),e.set(i))),e.has(o)&&(t.match(/[a-z0-9_-]/)||(e.unset(o),e.set(h,c),"="===t&&e.set(f))),e.has(i)&&t.match(/[a-z0-9_-]/)&&(e.unset(i),e.set(l,o)),e.has(n)&&t.match(/[a-z0-9_-]/)&&(e.unset(n),e.set(r)),e.has(r)&&(t.match(/[a-z0-9_-]/)||(e.unset(r),e.set(u),e.set(i))),this)}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=m}),s("TagAnalyzer",["require","exports","State"],function(t,e,a){var s="1",n="2",r="3",u="4",i="5",l="6",o="7",h="8",c="9",f=function(){function t(){_classCallCheck(this,t),this.state=new a.State}return _createClass(t,[{key:"isCreated",value:function(){return this.state.has(u)}},{key:"isOpened",value:function(){return this.state.has(s)}},{key:"isClosed",value:function(){return this.state.has(r)}},{key:"isText",value:function(){return this.state.has(o)}},{key:"isConsumed",value:function(){return this.state.has(c)}},{key:"isTextEnd",value:function(){return this.state.has(h)}},{key:"closeTag",value:function(){this.state.unset(i,s,s),this.state.set(c)}},{key:"analyze",value:function(t,e){var a=this.state;if(a.has(l)&&a.set(o),a.clean(r,h,l,c),"/"===t&&a.has(i)&&(a.set(n),a.unset(i,s)),a.has(u)&&(a.unset(u),a.set(s)),a.has(i)&&(a.set(u),a.unset(i)),"<"===t&&(a.has(s)||a.set(i),a.has(o)&&a.set(h),a.unset(o,l)),">"===t){if(a.set(l),a.once(n))return a.unset(s),a.set(r);a.set(c),a.has(s)&&a.unset(s)}}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=f}),s("Tag",["require","exports","AttributeAnalyzer"],function(t,e,a){var s=function(){function t(e){_classCallCheck(this,t),this.name="",this.children=[],this.attrs=[],this.raw="",this.parent=e}return _createClass(t,[{key:"addAttribute",value:function(){this.attrs.push(["",""])}},{key:"add2AttributeName",value:function(t){var e=this.attrs.length-1;this.attrs[e][0]+=t}},{key:"add2AttributeValue",value:function(t){var e=this.attrs.length-1;this.attrs[e][1]+=t}},{key:"addTag",value:function(t){this.children.push(t)}},{key:"consume",value:function(t){for(var e=new a.default,s=0;s<this.raw.length;s++){var n=this.raw[s],r=e.analyze(n);r.consumeName()&&(this.name+=n),r.startAttrName()&&this.addAttribute(),r.consumeAttrName()&&this.add2AttributeName(n),r.consumeAttrValue()&&this.add2AttributeValue(n)}}},{key:"addText",value:function(t){this.children.push(t)}},{key:"parse",value:function(t){this.raw+=t}}]),t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}),s("Text",["require","exports"],function(t,e){var a=function t(e){_classCallCheck(this,t),this.str=e};Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}),s("Parser",["require","exports","TagAnalyzer","Tag","Text"],function(t,e,a,s,n){var r=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"parse",value:function(e,u){for(var i=new a.default,l=new s.default,o=void 0,h=0;h<e.length;h++){var c=e[h],f=h===e.length-1;if(i.analyze(c,f),i.isCreated()){var d=new s.default(l);d.parse(c),l.addTag(d),l=d}else i.isOpened()?l.parse(c):i.isClosed()?(l.consumed||l.consume(i),l.name&&(l=l.parent)):i.isConsumed()?(l.consume(i),l.consumed=!0,r.indexOf(l.name)>-1&&(l.autoClosed=!0,l=l.parent)):i.isText()?(o=o||"",o+=c,f&&l&&l.addText(new n.default(o))):i.isTextEnd()&&(l&&l.addText(new n.default(o)),o=void 0)}return l?u?t.toJSON(l.children):l.children:[]}},{key:"toJSON",value:function(e){for(var a=[],n=0;n<e.length;n++){var r=e[n],u={},i=r instanceof s.default;u.type=i?"tag":"text";var l={};if(r.attrs)for(var o=0;o<r.attrs.length;o++){var h=r.attrs[o];l[h[0]]=h[1]}Object.keys(l).length&&(u.attrs=l),r.str&&(u.value=r.str),r.name&&(u.name=r.name),r.children&&r.children.length&&(u.children=t.toJSON(r.children)),(i||!i&&u.value)&&a.push(u)}return a}}]),t}();e.Parser=u}),s("index",["require","exports","Parser"],function(t,e,a){e.HTMLParser=a.Parser});var r=function(s,r,u,i){var l,o=n(s);if(!e){var h=t.__npm__=t.__npm__||{};r&&(l=h[r])}var c=i?i.split(","):[];if(c.length)for(var f in a)for(var d=0;d<c.length;d++)0===f.indexOf(c[d])&&n(f);for(var v in o)e||u?t[v]=o[v]:null,l?l[o]=o[v]:null};r("index","wires-html-parser",!0,"")}("undefined"!=typeof exports?exports:this,"undefined"!=typeof exports);